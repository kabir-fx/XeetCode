SELECT V.customer_id, COUNT(V.VISIT_ID) AS count_no_trans 
FROM VISITS V
LEFT JOIN TRANSACTIONS T
ON V.VISIT_ID = T.VISIT_ID
WHERE T.visit_id IS NULL
GROUP BY V.customer_id
